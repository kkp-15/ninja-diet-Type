<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚ãªãŸã®ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã‚¿ã‚¤ãƒ—ã¯ï¼Ÿ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2LM85GJN0L"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-2LM85GJN0L');
  </script>

  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 2em;
      background: #f9f9f9;
    }
    h1 {
      font-size: 1.8em;
      margin-bottom: 1em;
    }
    input, select, button {
      font-size: 1.1em;
      margin: 0.6em;
      padding: 0.6em;
      width: 90%;
      max-width: 400px;
    }
    #result {
      font-size: 1.2em;
      margin-top: 1em;
      padding: 1em;
      background-color: #e6f7ff; /* çµæœéƒ¨åˆ†ã®èƒŒæ™¯è‰²ã‚’å°‘ã—å¤‰ãˆã‚‹ */
      border-radius: 8px;
      line-height: 1.6; /* è¡Œé–“ã‚’åºƒã’ã‚‹ */
    }
    strong {
      color: #007bff; /* ã‚¿ã‚¤ãƒ—åã‚’å¼·èª¿ */
    }
    a#share, .x-link {
      display: inline-block;
      margin-top: 1.5em;
      padding: 0.8em 1.5em;
      border-radius: 30px;
      text-decoration: none;
      font-weight: bold;
      font-size: 1em;
    }
    a#share {
      background: #1da1f2;
      color: #fff;
    }
    .x-link {
      background: #000;
      color: #fff;
    }
    /* ã‚¢ãƒ‰ãƒã‚¤ã‚¹éƒ¨åˆ†ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    #result strong:nth-of-type(2) { /* 2ã¤ç›®ã®strongã‚¿ã‚° (ğŸ’¡ ã‚¢ãƒ‰ãƒã‚¤ã‚¹:) */
      color: #28a745; /* ç·‘è‰²ã§å¼·èª¿ */
      display: block; /* æ”¹è¡Œã—ã¦è¡¨ç¤º */
      margin-top: 0.8em;
    }
  </style>
</head>
<body>
  <h1>ã‚ãªãŸã®ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã‚¿ã‚¤ãƒ—ã¯ï¼Ÿ</h1>

  <input type="text" id="name" placeholder="ã‚ãªãŸã®åå‰">
  <br>

  <label>å¥½ããªé£Ÿã¹ç‰©ï¼š</label><br>
  <select id="food">
    <option value="0">ãƒ©ãƒ¼ãƒ¡ãƒ³</option>
    <option value="1">ç„¼è‚‰</option>
    <option value="2">ã‚±ãƒ¼ã‚­</option>
    <option value="3">ç™½ã”ã¯ã‚“</option>
    <option value="4">ã‚µãƒ©ãƒ€</option>
    <option value="5">ãƒ”ã‚¶</option>
    <option value="6">ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼</option>
    <option value="7">å¯¿å¸</option>
  </select>
  <br>

  <label>å¤ªã‚Šæ–¹ã®å‚¾å‘ï¼š</label><br>
  <select id="gain">
    <option value="0">ã‚†ã£ãã‚Šç¢ºå®Ÿã«å¢—ãˆã‚‹</option>
    <option value="1">ä¸€æ°—ã«å¢—ãˆã¦æˆ»ã‚‰ãªã„</option>
    <option value="2">æ°—ã¥ã„ãŸã‚‰å¤ªã£ã¦ã‚‹</option>
    <option value="3">å¹´æœ«å¹´å§‹ã ã‘å¤ªã‚‹</option>
    <option value="4">å¤ã«ç—©ã›ã¦å†¬ã«æˆ»ã‚‹</option>
    <option value="5">ç­‹ãƒˆãƒ¬ã—ã¦å¤ªã‚‹</option>
    <option value="6">ãŠè“å­ãŒã‚„ã‚ã‚‰ã‚Œãªã„</option>
    <option value="7">å¯ã‚‹å‰ã«é£Ÿã¹ã‚‹</option>
  </select>
  <br>

  <button onclick="diagnose()">è¨ºæ–­ã™ã‚‹</button>

  <div id="result"></div>

  <a id="share" href="#" target="_blank" style="display:none;"> Xã§çµæœã‚’ã‚·ã‚§ã‚¢ã™ã‚‹</a>

  <br><br>
  <a href="https://x.com/intent/follow?screen_name=kkp_webninja" target="_blank" class="x-link">
    X @kkp_webninja ã‚’ãƒ•ã‚©ãƒ­ãƒ¼
  </a>

  <script>
    const messages = [
      {type: "ã‚¹ã‚¤ãƒ¼ãƒ„ä¸­æ¯’å‹", desc: "ç³–åˆ†ã¨æ„›ã«æººã‚Œã¦ã€ä»Šæ—¥ã‚‚ã‚±ãƒ¼ã‚­ãŒä¸»é£ŸğŸ°", tag: "#ãƒ€ã‚¤ã‚¨ãƒƒãƒˆè¨ºæ–­ #ç”˜å…š", advice: "ç”˜ã„ã‚‚ã®ã¯å°‘é‡ã«æ§ãˆã€é£Ÿå¾Œã®ãƒ‡ã‚¶ãƒ¼ãƒˆã¯ãƒ•ãƒ«ãƒ¼ãƒ„ã«å¤‰ãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã‚¹ãƒˆãƒ¬ã‚¹è§£æ¶ˆã«ã¯åˆ¥ã®æ–¹æ³•ã‚’è¦‹ã¤ã‘ã‚‹ã¨è‰¯ã„ã§ã™ã‚ˆã€‚"},
      {type: "ã‚¹ãƒˆã‚¤ãƒƒã‚¯æˆ¦å£«å‹", desc: "æ„å¿—ãŒé‹¼ã€‚è„‚è‚ªã‚‚æ•µã‚‚ç„¼ãå°½ãã™ğŸ”¥", tag: "#ãƒ€ã‚¤ã‚¨ãƒƒãƒˆè¨ºæ–­ #ç­‹ãƒˆãƒ¬", advice: "ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒé«˜ã„ã®ã¯ç´ æ™´ã‚‰ã—ã„ã§ã™ãŒã€ç„¡ç†ã¯ç¦ç‰©ã€‚é€±ã«1ã€œ2æ—¥ã¯ä¼‘æ¯æ—¥ã‚’è¨­ã‘ã€ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸé£Ÿäº‹ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚"},
      {type: "ãƒãƒ¼ãƒˆãƒ‡ã‚¤å»¶é•·å‹", desc: "ä»Šæ—¥ã¯ç‰¹åˆ¥ï¼ãŒé€±5æ—¥ã€‚æ°—ã¥ã‘ã°ä½“é‡ã‚‚ç‰¹åˆ¥ä»•æ§˜ğŸ‚", tag: "#ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã‚¿ã‚¤ãƒ—", advice: "ãƒãƒ¼ãƒˆãƒ‡ã‚¤ã¯é€±ã«1å›ã€ã”è¤’ç¾ã¨ã—ã¦è¨ˆç”»çš„ã«å–ã‚Šå…¥ã‚Œã¾ã—ã‚‡ã†ã€‚ãã‚Œä»¥å¤–ã®æ—¥ã¯ãƒ˜ãƒ«ã‚·ãƒ¼ãªé£Ÿäº‹ã‚’æ„è­˜ã™ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚"},
      {type: "ãƒ©ãƒ¼ãƒ¡ãƒ³æˆ‘æ…¢ã§ããªã„å‹", desc: "ç½ªæ‚ªæ„Ÿã‚ˆã‚Šã‚¹ãƒ¼ãƒ—ã®æ—¨å‘³ã‚’é¸ã¶ğŸœ", tag: "#ãƒ©ãƒ¼ãƒ¡ãƒ³ã¯åˆ¥è…¹", advice: "ãƒ©ãƒ¼ãƒ¡ãƒ³ã‚’é£Ÿã¹ã‚‹é »åº¦ã‚’æ¸›ã‚‰ã—ã€ã‚¹ãƒ¼ãƒ—ã¯æ®‹ã™ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚é‡èœã‚’è¿½åŠ ã—ãŸã‚Šã€æ›¿ãˆç‰ã‚’æ§ãˆã‚‹ã ã‘ã§ã‚‚å¤‰ã‚ã‚Šã¾ã™ã‚ˆã€‚"},
      {type: "å¹½éœŠã‚¸ãƒ ä¼šå“¡å‹", desc: "èª²é‡‘ã¯ã—ã¦ã‚‹ã€‚æ°—æŒã¡ã ã‘ã¯ç´°ãƒãƒƒãƒãƒ§ğŸ’¸", tag: "#ã‚¸ãƒ è¡Œã£ã¦ãªã„", advice: "ã›ã£ã‹ãã‚¸ãƒ ã«é€šã£ã¦ã„ã‚‹ãªã‚‰ã€é€±ã«1å›ã§ã‚‚ã„ã„ã®ã§åˆ©ç”¨ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã¾ãšã¯è»½ã„é‹å‹•ã‹ã‚‰å§‹ã‚ã¦ã€ç¿’æ…£åŒ–ã‚’ç›®æŒ‡ã™ã“ã¨ãŒé‡è¦ã§ã™ã€‚"},
      {type: "å¤ã ã‘ç´°ã„å‹", desc: "å¤ã ã‘æ€¥ã«æœ¬æ°—å‡ºã™ğŸ– å†¬ï¼Ÿèã“ãˆã¾ã›ã‚“", tag: "#å¤ç—©ã›å†¬æˆ»ã‚Š", advice: "å¤ã ã‘ã§ãªãã€å¹´é–“ã‚’é€šã—ã¦å¥åº·çš„ãªé£Ÿç”Ÿæ´»ã¨é©åº¦ãªé‹å‹•ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚å†¬å¤ªã‚Šå¯¾ç­–ã«ã¯ã€æ¸©ã‹ã„ã‚¹ãƒ¼ãƒ—ã‚„é‹æ–™ç†ãŒãŠã™ã™ã‚ã§ã™ã€‚"},
      {type: "ç‚­æ°´åŒ–ç‰©ãƒ©ãƒ–å‹", desc: "ç™½ã”ã¯ã‚“ã“ãç¥ã€‚ç—©ã›ã‚‹ã‚ˆã‚Šæº€ãŸã•ã‚ŒãŸã„ğŸš", tag: "#ã”ã¯ã‚“å¤§å¥½ã", advice: "ç‚­æ°´åŒ–ç‰©ã‚’å®Œå…¨ã«æŠœãã®ã§ã¯ãªãã€ç™½ç±³ã‚’ç„ç±³ã‚„é›‘ç©€ç±³ã«ç½®ãæ›ãˆãŸã‚Šã€é£Ÿã¹ã‚‹é‡ã‚’å°‘ã—æ¸›ã‚‰ã™ã“ã¨ã‹ã‚‰å§‹ã‚ã¦ã¿ã¾ã—ã‚‡ã†ã€‚"},
      {type: "å¯ã‚‹å‰çˆ†é£Ÿå‹", desc: "å¯ã‚‹å‰ã®ã‚¢ã‚¤ã‚¹ãŒè‡³ç¦ã€‚å¤¢ã‚‚å¤ªã‚‹ğŸ¦", tag: "#å¤œé£Ÿã®èª˜æƒ‘", advice: "å¯ã‚‹å‰ã®é£Ÿäº‹ã¯æ¶ˆåŒ–ã«è² æ‹…ãŒã‹ã‹ã‚‹ãŸã‚ã€å¯ã‚‹3æ™‚é–“å‰ã¾ã§ã«ã¯æ¸ˆã¾ã›ã¾ã—ã‚‡ã†ã€‚ã©ã†ã—ã¦ã‚‚ãŠè…¹ãŒç©ºãå ´åˆã¯ã€æ¸©ã‹ã„é£²ã¿ç‰©ã‚„ãƒãƒ³ã‚«ãƒ­ãƒªãƒ¼ã‚¼ãƒªãƒ¼ãŒãŠã™ã™ã‚ã§ã™ã€‚"},
      {type: "ã‚¢ãƒ—ãƒªã ã‘ã‚„ã‚‹æ°—å‹", desc: "ã‚«ãƒ­ãƒªãƒ¼ã¯è¨˜éŒ²ã—ãŸã€‚é‹å‹•ã¯â€¦æ˜æ—¥ã­ğŸ“±", tag: "#ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã‚ã‚‹ã‚ã‚‹", advice: "è¨˜éŒ²ã™ã‚‹ã ã‘ã§ãªãã€è¨˜éŒ²ã—ãŸå†…å®¹ã‚’ã‚‚ã¨ã«é£Ÿç”Ÿæ´»ã‚’è¦‹ç›´ã—ã¾ã—ã‚‡ã†ã€‚è»½ã„ã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã‹ã‚‰ã§ã‚‚è‰¯ã„ã®ã§ã€å°‘ã—ãšã¤é‹å‹•ã‚’å–ã‚Šå…¥ã‚Œã¦ã¿ã¦ãã ã•ã„ã€‚"},
      {type: "ãŠæ­£æœˆå¢—é‡å‹", desc: "æ¯å¹´æ­£æœˆã§3kgå¢—ã€‚æ˜¥ã«ã¯æˆ»ã™ï¼ˆäºˆå®šï¼‰ğŸ", tag: "#å¹´æœ«å¹´å§‹å¤ªã‚Š", advice: "å¹´æœ«å¹´å§‹ã¯ã‚¤ãƒ™ãƒ³ãƒˆãŒå¤šã„ã§ã™ãŒã€é£Ÿã¹éãã«æ³¨æ„ã—ã€è»½ã„é‹å‹•ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚å’Œé£Ÿä¸­å¿ƒã®é£Ÿäº‹ã‚’æ„è­˜ã™ã‚‹ã®ã‚‚åŠ¹æœçš„ã§ã™ã€‚"},
      {type: "ç´è±†ä¿¡è€…å‹", desc: "ç´è±†ã¯ç—©ã›ã‚‹ã£ã¦èã„ãŸã‹ã‚‰æ¯æœ3ãƒ‘ãƒƒã‚¯ğŸ«˜", tag: "#å¥åº·ã‚ªã‚¿ã‚¯", advice: "å¥åº·ã«è‰¯ã„é£Ÿå“ã§ã‚‚ã€æ‘‚ã‚Šã™ãã¯ç¦ç‰©ã§ã™ã€‚ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸé£Ÿäº‹ãŒå¤§åˆ‡ãªã®ã§ã€ä»–ã®é£Ÿå“ã‚‚ãƒãƒ©ãƒ³ã‚¹è‰¯ãå–ã‚Šå…¥ã‚Œã¾ã—ã‚‡ã†ã€‚"},
      {type: "SNSæ˜ ãˆå„ªå…ˆå‹", desc: "ã‚µãƒ©ãƒ€ã®å†™çœŸã§æº€è…¹ã€‚ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã®èƒƒè¢‹ç‹™ã„ğŸ“¸", tag: "#ã‚¤ãƒ³ã‚¹ã‚¿é£¯", advice: "è¦‹ãŸç›®ã ã‘ã§ãªãã€æ „é¤Šãƒãƒ©ãƒ³ã‚¹ã‚‚è€ƒãˆãŸé£Ÿäº‹ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚é‡èœã ã‘ã§ãªãã€ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‚‚å¿˜ã‚Œãšã«æ‘‚å–ã—ã¦ãã ã•ã„ã­ã€‚"},
      {type: "æ¨ã—æ´»çµã‚Šå‹", desc: "ãƒ©ã‚¤ãƒ–ã¾ã§ã«ç—©ã›ã‚‹ï¼çµ‚ã‚ã£ãŸã‚‰é£Ÿã¹æ”¾é¡ŒğŸ’ƒ", tag: "#æ¨ã—ã®ãŸã‚ã«ç—©ã›ã‚‹", advice: "ç›®æ¨™ãŒã‚ã‚‹ã®ã¯ç´ æ™´ã‚‰ã—ã„ã§ã™ãŒã€ç„¡ç†ãªãƒ€ã‚¤ã‚¨ãƒƒãƒˆã¯ãƒªãƒã‚¦ãƒ³ãƒ‰ã®åŸå› ã«ã€‚ãƒ©ã‚¤ãƒ–å¾Œã‚‚å¥åº·çš„ãªé£Ÿç”Ÿæ´»ã‚’ç¶šã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã€ã‚†ã‚‹ã‚„ã‹ã«ä½“é‡ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚"},
      {type: "ã‚«ãƒ­ãƒªãƒ¼ç†è«–å‹", desc: "é£Ÿã¹ã¦ã‚‚ã‚¼ãƒ­ã‚«ãƒ­ãƒªãƒ¼ç†è«–ã§ä¹—ã‚Šåˆ‡ã‚‹âœ¨", tag: "#ã‚«ãƒ­ãƒªãƒ¼ã‚¼ãƒ­ç†è«–", advice: "æ®‹å¿µãªãŒã‚‰ã€é£Ÿã¹ãŸã‚‰ã‚«ãƒ­ãƒªãƒ¼ã¯å­˜åœ¨ã—ã¾ã™ã€‚ç¾å®Ÿçš„ãªç›®æ¨™ã‚’è¨­å®šã—ã€æ­£ã—ã„çŸ¥è­˜ã«åŸºã¥ã„ã¦ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã‚’é€²ã‚ã¾ã—ã‚‡ã†ã€‚"},
      {type: "ç­‹è‚‰ã®ä¸‹ã«è„‚è‚ªå‹", desc: "ç­‹ãƒˆãƒ¬ã—ã¦ã‚‚ãŠè…¹ã ã‘ã¯å¼·æ•µğŸ’ª", tag: "#è…¹ç­‹è¦‹ãˆãªã„", advice: "ç­‹ãƒˆãƒ¬ã¨ä¸¦è¡Œã—ã¦ã€é£Ÿäº‹ã®è¦‹ç›´ã—ãŒé‡è¦ã§ã™ã€‚ç‰¹ã«ã€ç³–è³ªã‚„è„‚è³ªã®æ‘‚ã‚Šã™ãã«æ³¨æ„ã—ã€ã‚¿ãƒ³ãƒ‘ã‚¯è³ªã‚’æ„è­˜çš„ã«æ‘‚å–ã—ã¾ã—ã‚‡ã†ã€‚"},
      {type: "äººç”Ÿä¸€åº¦ãã‚Šå‹", desc: "ç¾å‘³ã—ãé£Ÿã¹ãŸãªã‚‰ã‚¼ãƒ­ã‚«ãƒ­ãƒªãƒ¼èª¬ï¼ğŸ•", tag: "#äººç”Ÿæ¥½ã—ã‚“ã ã‚‚ã‚“å‹ã¡", advice: "äººç”Ÿã‚’æ¥½ã—ã‚€ã®ã¯å¤§åˆ‡ã§ã™ãŒã€å¥åº·ã‚ã£ã¦ã“ãã§ã™ã€‚é£Ÿã¹ã‚‹ã‚‚ã®ã‚’é¸ã¶æ„è­˜ã‚’æŒã¤ã ã‘ã§ã‚‚ã€å°‘ã—ãšã¤ä½“ã¯å¤‰ã‚ã£ã¦ã„ãã¾ã™ã‚ˆã€‚"}
    ];

    // å„ã‚¿ã‚¤ãƒ—ã¨é¸æŠè‚¢ã®é–¢é€£åº¦ã‚’å®šç¾© (ã‚ˆã‚Šã€Œå½“ãŸã‚‹ã€è¨ºæ–­ã®ãŸã‚ã«é‡è¦)
    // æ•°å€¤ã¯ã€Œãã®ã‚¿ã‚¤ãƒ—ã‚‰ã—ã•ã€ã®ç‚¹æ•°ã€‚ã‚ˆã‚Šé«˜ã„ç‚¹æ•°ã»ã©å¼·ãé–¢é€£
    const typeAffinities = {
        "ã‚¹ã‚¤ãƒ¼ãƒ„ä¸­æ¯’å‹": {food: {2: 10, 7: 3, 6: 4}, gain: {6: 10, 7: 8, 2: 5}}, // ã‚±ãƒ¼ã‚­, å¯¿å¸(ãƒ‡ã‚¶ãƒ¼ãƒˆå¥½ã), ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼(ç”˜ã„é£²ã¿ç‰©ã‚‚) / ãŠè“å­, å¯ã‚‹å‰, æ°—ã¥ã„ãŸã‚‰
        "ã‚¹ãƒˆã‚¤ãƒƒã‚¯æˆ¦å£«å‹": {food: {4: 10, 1: 8, 7: 5}, gain: {5: 10, 0: 6, 4: 4}}, // ã‚µãƒ©ãƒ€, ç„¼è‚‰, å¯¿å¸(ãƒ˜ãƒ«ã‚·ãƒ¼é¸æŠ) / ç­‹ãƒˆãƒ¬, ã‚†ã£ãã‚Š, å¤ç—©ã›
        "ãƒãƒ¼ãƒˆãƒ‡ã‚¤å»¶é•·å‹": {food: {5: 9, 6: 9, 0: 7, 1: 6}, gain: {1: 10, 2: 7, 7: 5}}, // ãƒ”ã‚¶, ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼, ãƒ©ãƒ¼ãƒ¡ãƒ³, ç„¼è‚‰ / ä¸€æ°—ã«å¢—ãˆã‚‹, æ°—ã¥ã„ãŸã‚‰, å¯ã‚‹å‰
        "ãƒ©ãƒ¼ãƒ¡ãƒ³æˆ‘æ…¢ã§ããªã„å‹": {food: {0: 10, 3: 7, 7: 4}, gain: {1: 8, 7: 6, 2: 5}}, // ãƒ©ãƒ¼ãƒ¡ãƒ³, ç™½ã”ã¯ã‚“, å¯¿å¸(ç‚­æ°´åŒ–ç‰©) / ä¸€æ°—ã«å¢—ãˆã‚‹, å¯ã‚‹å‰, æ°—ã¥ã„ãŸã‚‰
        "å¹½éœŠã‚¸ãƒ ä¼šå“¡å‹": {food: {0: 3, 1: 3, 2: 3, 3: 3, 4: 3, 5: 3, 6: 3, 7: 3}, gain: {0: 7, 2: 8}}, // ã‚ã¾ã‚Šé£Ÿäº‹ã«ã“ã ã‚ã‚Šãªã— / ã‚†ã£ãã‚Š, æ°—ã¥ã„ãŸã‚‰
        "å¤ã ã‘ç´°ã„å‹": {food: {4: 6, 7: 5, 1: 4}, gain: {4: 10, 3: 5, 0: 3}}, // ã‚µãƒ©ãƒ€, å¯¿å¸, ç„¼è‚‰ / å¤ç—©ã›, å¹´æœ«å¹´å§‹, ã‚†ã£ãã‚Š
        "ç‚­æ°´åŒ–ç‰©ãƒ©ãƒ–å‹": {food: {3: 10, 0: 8, 7: 7}, gain: {2: 7, 1: 6, 0: 5}}, // ç™½ã”ã¯ã‚“, ãƒ©ãƒ¼ãƒ¡ãƒ³, å¯¿å¸ / æ°—ã¥ã„ãŸã‚‰, ä¸€æ°—ã«, ã‚†ã£ãã‚Š
        "å¯ã‚‹å‰çˆ†é£Ÿå‹": {food: {2: 7, 6: 6, 0: 5}, gain: {7: 10, 2: 8, 1: 6}}, // ã‚±ãƒ¼ã‚­, ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼, ãƒ©ãƒ¼ãƒ¡ãƒ³ / å¯ã‚‹å‰, æ°—ã¥ã„ãŸã‚‰, ä¸€æ°—ã«
        "ã‚¢ãƒ—ãƒªã ã‘ã‚„ã‚‹æ°—å‹": {food: {4: 5, 7: 5}, gain: {2: 8, 0: 6, 1: 4}}, // ã‚µãƒ©ãƒ€, å¯¿å¸ (è¨˜éŒ²å‘ã‘) / æ°—ã¥ã„ãŸã‚‰, ã‚†ã£ãã‚Š, ä¸€æ°—ã«
        "ãŠæ­£æœˆå¢—é‡å‹": {food: {0: 4, 1: 4, 2: 4, 3: 4, 5: 4, 6: 4, 7: 4}, gain: {3: 10, 1: 6, 0: 5}}, // å…¨èˆ¬çš„ã«é£Ÿã¹éã / å¹´æœ«å¹´å§‹, ä¸€æ°—ã«, ã‚†ã£ãã‚Š
        "ç´è±†ä¿¡è€…å‹": {food: {4: 8, 7: 6, 1: 5}, gain: {0: 7, 5: 5}}, // ã‚µãƒ©ãƒ€, å¯¿å¸, ç„¼è‚‰ (å¥åº·å¿—å‘) / ã‚†ã£ãã‚Š, ç­‹ãƒˆãƒ¬
        "SNSæ˜ ãˆå„ªå…ˆå‹": {food: {4: 9, 7: 7, 2: 5}, gain: {2: 6, 0: 4}}, // ã‚µãƒ©ãƒ€, å¯¿å¸, ã‚±ãƒ¼ã‚­ (è¦‹ãŸç›®é‡è¦–) / æ°—ã¥ã„ãŸã‚‰, ã‚†ã£ãã‚Š
        "æ¨ã—æ´»çµã‚Šå‹": {food: {4: 7, 1: 6, 7: 5}, gain: {1: 9, 4: 7}}, // ã‚µãƒ©ãƒ€, ç„¼è‚‰, å¯¿å¸ (ç›®æ¨™ãŒã‚ã‚‹æ™‚ã ã‘ã‚¹ãƒˆã‚¤ãƒƒã‚¯) / ä¸€æ°—ã«, å¤ç—©ã›
        "ã‚«ãƒ­ãƒªãƒ¼ç†è«–å‹": {food: {0: 7, 1: 7, 2: 7, 3: 7, 5: 7, 6: 7, 7: 7}, gain: {2: 8, 1: 7, 0: 6}}, // ä½•ã§ã‚‚é£Ÿã¹ã‚‹ / æ°—ã¥ã„ãŸã‚‰, ä¸€æ°—ã«, ã‚†ã£ãã‚Š
        "ç­‹è‚‰ã®ä¸‹ã«è„‚è‚ªå‹": {food: {1: 9, 4: 7, 7: 6}, gain: {5: 10, 0: 7, 2: 5}}, // ç„¼è‚‰, ã‚µãƒ©ãƒ€, å¯¿å¸ (ã‚¿ãƒ³ãƒ‘ã‚¯è³ªæ„è­˜) / ç­‹ãƒˆãƒ¬, ã‚†ã£ãã‚Š, æ°—ã¥ã„ãŸã‚‰
        "äººç”Ÿä¸€åº¦ãã‚Šå‹": {food: {0: 8, 1: 8, 2: 8, 3: 8, 5: 8, 6: 8, 7: 8}, gain: {1: 9, 2: 9, 7: 7}} // ä½•ã§ã‚‚å¥½ã / ä¸€æ°—ã«, æ°—ã¥ã„ãŸã‚‰, å¯ã‚‹å‰
    };

    function diagnose() {
      const name = document.getElementById("name").value.trim();
      const foodValue = parseInt(document.getElementById("food").value);
      const gainValue = parseInt(document.getElementById("gain").value);
      const resultArea = document.getElementById("result");
      const shareLink = document.getElementById("share");

      if (name === "") {
        alert("åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼");
        return;
      }

      let scores = {};
      // å„ã‚¿ã‚¤ãƒ—ã‚’åˆæœŸåŒ–
      for (const msg of messages) {
          scores[msg.type] = 0;
      }

      // é£Ÿã¹ç‰©ã«ã‚ˆã‚‹ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°
      for (const type in typeAffinities) {
        if (typeAffinities[type].food && typeAffinities[type].food[foodValue] !== undefined) {
          scores[type] += typeAffinities[type].food[foodValue];
        }
      }

      // å¤ªã‚Šæ–¹ã«ã‚ˆã‚‹ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°
      for (const type in typeAffinities) {
        if (typeAffinities[type].gain && typeAffinities[type].gain[gainValue] !== undefined) {
          scores[type] += typeAffinities[type].gain[gainValue];
        }
      }

      // æœ€é«˜ã‚¹ã‚³ã‚¢ã®ã‚¿ã‚¤ãƒ—ã‚’ç‰¹å®š
      let maxScore = -1;
      let resultTypes = []; // æœ€é«˜ã‚¹ã‚³ã‚¢ã®ã‚¿ã‚¤ãƒ—ã‚’è¤‡æ•°æ ¼ç´ã™ã‚‹å¯èƒ½æ€§

      for (const type in scores) {
        if (scores[type] > maxScore) {
          maxScore = scores[type];
          resultTypes = [type]; // æ–°ã—ã„æœ€é«˜ã‚¹ã‚³ã‚¢ãŒè¦‹ã¤ã‹ã£ãŸã‚‰ãƒªã‚»ãƒƒãƒˆ
        } else if (scores[type] === maxScore) {
          resultTypes.push(type); // åŒç‚¹ã®å ´åˆã«è¿½åŠ 
        }
      }

      let finalResultType;
      if (resultTypes.length === 1) {
          finalResultType = resultTypes[0];
      } else {
          // åŒç‚¹ã®å ´åˆã®å‡¦ç†ï¼šã“ã“ã§ã¯æœ€åˆã®å€™è£œã‚’é¸æŠ
          // ã¾ãŸã¯ã€ã•ã‚‰ã«è³ªå•ã‚’è¿½åŠ ã—ã¦çµã‚Šè¾¼ã‚€ãªã©ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚‚æ¤œè¨å¯èƒ½
          // ä»Šå›ã¯åå‰ã®å½±éŸ¿ã‚’ãªãã™ãŸã‚ã€ç´”ç²‹ãªã‚¹ã‚³ã‚¢ã§åŒç‚¹ãªã‚‰æœ€åˆã®å€™è£œ
          finalResultType = resultTypes[0]; 
      }
      
      // messagesé…åˆ—ã‹ã‚‰è©²å½“ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¦‹ã¤ã‘ã‚‹
      const msg = messages.find(m => m.type === finalResultType);

      resultArea.innerHTML = `ã‚ãªãŸã¯ <strong>${msg.type}</strong> ã§ã™ï¼<br>${msg.desc}<br><br><strong>ğŸ’¡ ã‚¢ãƒ‰ãƒã‚¤ã‚¹:</strong> ${msg.advice}`;
      const tweet = `ç§ã¯ã€Œ${msg.type}ã€ã§ã—ãŸï¼${msg.desc} ${msg.advice}\n${msg.tag} https://kkp-15.github.io/ninja-diet-Type/`;
      shareLink.href = "https://twitter.com/intent/tweet?text=" + encodeURIComponent(tweet);
      shareLink.style.display = "inline-block";
    }
  </script>
</body>
</html>
